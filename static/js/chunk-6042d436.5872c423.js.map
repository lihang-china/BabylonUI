{"version":3,"sources":["webpack:///./src/views/babylon/index.vue?0daf","webpack:///./src/views/babylon/index.vue","webpack:///./src/views/babylon/index.vue?61e2","webpack:///./src/views/babylon/index.vue?b373"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","id","style","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","onClick","handleSelect","args","setup","left1","babylon","canvas","undefined","engine","scene","camera","initBabylon","document","getElementById","animationBox","ANIMATIONTYPE_VECTOR3","ANIMATIONLOOPMODE_CONSTANT","animationRon","key","push","frame","value","keys","setKeys","animations","beginAnimation","createScene","rotation","attachControl","clearColor","background","CreateGround","width","height","subdivisions","skybox","CreateBox","skyboxMaterial","backFaceCulling","disableLighting","material","reflectionTexture","coordinatesMode","SKYBOX_MODE","light2","groundColor","intensity","light","gravity","applyGravity","ellipsoid","collisionsEnabled","checkCollisions","ImportMesh","meshes","myMaterial","myMaterial2","ambientColor","diffuseColor","forEach","e","index","console","log","name","y","rotationQuaternion","Math","PI","doorMeshLeft","depth","position","actionManager","setPivotPoint","LOCAL","registerAction","OnPickTrigger","emissiveColor","diffuseTexture","specularTexture","emissiveTexture","ambientTexture","i","length","window","addEventListener","pick","pointerX","pointerY","runRenderLoop","__exports__"],"mappings":"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","file":"static/js/chunk-6042d436.5872c423.js","sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-36a4cf97\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"canvas\", {\n  id: \"mycanvas\",\n  style: {\"width\":\"100%\",\"height\":\"100%\"}\n}, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", null, \"查看画板\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleSelect && _ctx.handleSelect(...args)))\n    }, \"寻找Li\")\n  ]))\n}","\r\nimport { defineComponent, onMounted } from 'vue'\r\nimport * as BABYLON from 'babylonjs'\r\nimport 'babylonjs-loaders'\r\nexport default defineComponent({\r\n  setup() {\r\n    let left1: any = []\r\n    const babylon: any = {\r\n      canvas: undefined,\r\n      engine: undefined,\r\n      scene: undefined,\r\n      camera: undefined\r\n    }\r\n    const initBabylon = () => {\r\n      babylon.canvas = document.getElementById('mycanvas')\r\n      babylon.engine = new BABYLON.Engine(babylon.canvas, true)\r\n    }\r\n    const handleSelect = () => {\r\n      let animationBox = new BABYLON.Animation(\r\n        'myAnimation',\r\n        'position',\r\n        100,\r\n        BABYLON.Animation.ANIMATIONTYPE_VECTOR3,\r\n        BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT\r\n      )\r\n      let animationRon = new BABYLON.Animation(\r\n        'myAnimation',\r\n        'rotation',\r\n        100,\r\n        BABYLON.Animation.ANIMATIONTYPE_VECTOR3,\r\n        BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT\r\n      )\r\n      let key = []\r\n      key.push({\r\n        frame: 0,\r\n        value: new BABYLON.Vector3(-40, 1.5, 3)\r\n      })\r\n      key.push({\r\n        frame: 20,\r\n        value: new BABYLON.Vector3(14.5, 1.5, 3)\r\n      })\r\n      key.push({\r\n        frame: 40,\r\n        value: new BABYLON.Vector3(14.4, 1.5, -13)\r\n      })\r\n      key.push({\r\n        frame: 58,\r\n        value: new BABYLON.Vector3(5, 1.5, -15)\r\n      })\r\n      key.push({\r\n        frame: 80,\r\n        value: new BABYLON.Vector3(4.2, 1.5, -11)\r\n      })\r\n      key.push({\r\n        frame: 85,\r\n        value: new BABYLON.Vector3(7, 1.5, -11)\r\n      })\r\n      let keys = []\r\n      keys.push({\r\n        frame: 0,\r\n        value: new BABYLON.Vector3(0, 20.5, 0)\r\n      })\r\n      keys.push({\r\n        frame: 10,\r\n        value: new BABYLON.Vector3(0, 20.6, 0)\r\n      })\r\n      keys.push({\r\n        frame: 15,\r\n        value: new BABYLON.Vector3(0, 20.7, 0)\r\n      })\r\n      keys.push({\r\n        frame: 18,\r\n        value: new BABYLON.Vector3(0, 21.5, 0)\r\n      })\r\n      keys.push({\r\n        frame: 20,\r\n        value: new BABYLON.Vector3(0, 21.8, 0)\r\n      })\r\n      keys.push({\r\n        frame: 35,\r\n        value: new BABYLON.Vector3(0, 22.2, 0)\r\n      })\r\n      keys.push({\r\n        frame: 40,\r\n        value: new BABYLON.Vector3(0, 23.8, 0)\r\n      })\r\n      keys.push({\r\n        frame: 50,\r\n        value: new BABYLON.Vector3(0, 24, 0)\r\n      })\r\n      keys.push({\r\n        frame: 60,\r\n        value: new BABYLON.Vector3(0, 25.1, 0)\r\n      })\r\n      keys.push({\r\n        frame: 65,\r\n        value: new BABYLON.Vector3(0, 25.6, 0)\r\n      })\r\n      keys.push({\r\n        frame: 82,\r\n        value: new BABYLON.Vector3(0, 25.6, 0)\r\n      })\r\n      keys.push({\r\n        frame: 86,\r\n        value: new BABYLON.Vector3(0, 25.3, 0)\r\n      })\r\n      animationBox.setKeys(key)\r\n      animationRon.setKeys(keys)\r\n      babylon.camera.animations = []\r\n      babylon.camera.animations.push(animationBox)\r\n      babylon.camera.animations.push(animationRon)\r\n      babylon.scene.beginAnimation(babylon.camera, 0, 100, true, 0.03)\r\n    }\r\n    const createScene = () => {\r\n      babylon.scene = new BABYLON.Scene(babylon.engine)\r\n      babylon.camera = new BABYLON.UniversalCamera(\r\n        'UniversalCamera',\r\n        new BABYLON.Vector3(-40, 1.5, 3),\r\n        babylon.scene\r\n      )\r\n      babylon.camera.rotation = new BABYLON.Vector3(0, 20.5, 0)\r\n      // 让相机响应用户操作\r\n      babylon.camera.attachControl(babylon.canvas, false)\r\n      babylon.scene.clearColor = new BABYLON.Color3(0.5, 0.8, 0.5)\r\n      let background = BABYLON.MeshBuilder.CreateGround(\r\n        'myGround',\r\n        { width: 500, height: 500, subdivisions: 1 },\r\n        babylon.scene\r\n      )\r\n      let skybox = BABYLON.Mesh.CreateBox('skyBox', 500.0, babylon.scene)\r\n      let skyboxMaterial = new BABYLON.StandardMaterial('skyBox', babylon.scene)\r\n      skyboxMaterial.backFaceCulling = false\r\n      skyboxMaterial.disableLighting = true\r\n      skybox.material = skyboxMaterial\r\n      skyboxMaterial.disableLighting = true\r\n      skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(\r\n        'textures/skybox',\r\n        babylon.scene\r\n      )\r\n      skyboxMaterial.reflectionTexture.coordinatesMode =\r\n        BABYLON.Texture.SKYBOX_MODE\r\n      let light2 = new BABYLON.HemisphericLight(\r\n        'dir01',\r\n        new BABYLON.Vector3(0, 20, 0),\r\n        babylon.scene\r\n      )\r\n      light2.groundColor = new BABYLON.Color3(1, 1, 1)\r\n      light2.intensity = 0.3\r\n      let light = new BABYLON.PointLight(\r\n        'pointLight',\r\n        new BABYLON.Vector3(1, 40, 1),\r\n        babylon.scene\r\n      )\r\n      light.intensity = 0.4\r\n      babylon.scene.gravity = new BABYLON.Vector3(0, -1.81, 0)\r\n      babylon.camera.applyGravity = true\r\n      babylon.camera.ellipsoid = new BABYLON.Vector3(1, 1, 1)\r\n      babylon.scene.collisionsEnabled = true\r\n      babylon.camera.checkCollisions = true\r\n      background.checkCollisions = true\r\n      BABYLON.SceneLoader.ImportMesh(\r\n        '',\r\n        './',\r\n        'demo1.gltf',\r\n        babylon.scene,\r\n        function (meshes) {\r\n          left1 = meshes\r\n          let myMaterial = new BABYLON.StandardMaterial(\r\n            'myMaterial',\r\n            babylon.scene\r\n          )\r\n          let myMaterial2 = new BABYLON.StandardMaterial(\r\n            'myMaterial',\r\n            babylon.scene\r\n          )\r\n          babylon.scene.ambientColor = new BABYLON.Color3(1, 1, 1)\r\n          myMaterial2.diffuseColor = new BABYLON.Color3(1, 1, 1)\r\n\r\n          meshes.forEach((e, index) => {\r\n            console.log(e.name == 'door', index)\r\n          })\r\n          meshes[535].rotation.y = 10\r\n          console.log(meshes[535], '65565')\r\n          meshes[535].rotationQuaternion = null\r\n          meshes[535].rotation.y = Math.PI / 2\r\n          let doorMeshLeft = BABYLON.MeshBuilder.CreateBox('doorMeshLeft', {\r\n            height: 4,\r\n            width: 2,\r\n            depth: 0.25\r\n          })\r\n          doorMeshLeft.position = new BABYLON.Vector3(-1, 0, 5.5)\r\n          meshes[535].actionManager = new BABYLON.ActionManager(babylon.scene)\r\n          meshes[535].setPivotPoint(\r\n            new BABYLON.Vector3(-1, 0, 0),\r\n            BABYLON.Space.LOCAL\r\n          )\r\n          meshes[535].actionManager.registerAction(\r\n            new BABYLON.CombineAction(BABYLON.ActionManager.OnPickTrigger, [\r\n              new BABYLON.InterpolateValueAction(\r\n                BABYLON.ActionManager.OnPickTrigger,\r\n                meshes[535],\r\n                'rotation.y',\r\n                -Math.PI / 2,\r\n                1500\r\n              )\r\n            ])\r\n          )\r\n          myMaterial.emissiveColor = new BABYLON.Color3(1, 1, 1)\r\n          myMaterial.diffuseTexture = new BABYLON.Texture(\r\n            'PATH TO IMAGE',\r\n            babylon.scene\r\n          )\r\n          myMaterial.specularTexture = new BABYLON.Texture(\r\n            'PATH TO IMAGE',\r\n            babylon.scene\r\n          )\r\n          myMaterial.emissiveTexture = new BABYLON.Texture(\r\n            'PATH TO IMAGE',\r\n            babylon.scene\r\n          )\r\n          myMaterial.ambientTexture = new BABYLON.Texture(\r\n            'PATH TO IMAGE',\r\n            babylon.scene\r\n          )\r\n          for (let i = 0; i < meshes.length; i++) {\r\n            meshes[i].checkCollisions = true\r\n          }\r\n        }\r\n      )\r\n      window.addEventListener('click', function () {\r\n        let pickResult = babylon.scene.pick(\r\n          babylon.scene.pointerX,\r\n          babylon.scene.pointerY\r\n        )\r\n      })\r\n      babylon.engine.runRenderLoop(function () {\r\n        babylon.scene.render()\r\n      })\r\n    }\r\n    onMounted(() => {\r\n      initBabylon()\r\n      createScene()\r\n    })\r\n    return {\r\n      babylon,\r\n      left1,\r\n      handleSelect\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./index.vue?vue&type=template&id=36a4cf97&scoped=true&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36a4cf97&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\BabylonUI\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36a4cf97\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=36a4cf97&lang=scss&scoped=true\""],"sourceRoot":""}